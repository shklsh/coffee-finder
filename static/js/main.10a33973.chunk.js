(this["webpackJsonpcoffee-finder"]=this["webpackJsonpcoffee-finder"]||[]).push([[0],{123:function(e,a,t){e.exports=t(222)},128:function(e,a,t){},220:function(e,a,t){},222:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(5),s=t.n(c),o=(t(128),t(41)),l=t(42),i=t(44),m=t(43),d=t(45),u=t(110),p=t.n(u),f=t(225),v=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).onSelect=function(e){t.state.geoCoderService.geocode({address:e},(function(e){if(console.log(e),e.length>0){var a=e[0].geometry.location;t.props.addMarker(a.lat(),a.lng(),t.props.markerName)}}))},t.handleSearch=function(e){var a=t.state,n=a.autoCompleteService,r=a.sydneyLatLng;if(e.length>0){var c={input:e,location:r,radius:3e4};n.getQueryPredictions(c,(function(e){if(e){var a=e.map((function(e){return e.description}));t.setState({dataSource:a,suggestions:e})}}))}},t.state={suggestions:[],dataSource:[],sydneyLatLng:t.props.sydneyLatLng,autoCompleteService:t.props.autoCompleteService,geoCoderService:t.props.geoCoderService},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.state.dataSource;return r.a.createElement(f.a,{className:"w-100",dataSource:e,onSelect:this.onSelect,onSearch:this.handleSearch,placeholder:"Address"})}}]),a}(n.Component),h=t(12),g=function(e){var a=e.name,t=e.key;return r.a.createElement("div",{key:t},r.a.createElement("span",{className:"brand-red"},a),r.a.createElement(h.a,{className:"font-1-5",type:"environment",theme:"twoTone",twoToneColor:"#fd0000"}))},y=t(227),E=function(e){var a=e.info,t=e.key,n=a.address,c=a.distanceText,s=a.name,o=a.openNow,l=a.photoUrl,i=a.priceLevel,m=a.rating,d=a.timeText;return r.a.createElement("div",{key:t,className:"col-3 w-100 mx-4 my-4"},r.a.createElement("img",{src:l,className:"image-wrapper-sm mb-2",alt:"coffee"}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},s),r.a.createElement("span",{className:"d-block mb-1"},n),r.a.createElement("span",{className:"d-block"},c),r.a.createElement("span",{className:"d-block"},d)),r.a.createElement("ul",{className:"list-group list-group-flush"},o?r.a.createElement("li",{className:"list-group-item"},"Open"):r.a.createElement("li",{className:"list-group-item"},"Closed"),r.a.createElement("li",{className:"list-group-item"},"Rating - ",r.a.createElement(y.a,{value:m,disabled:!0,defaultValue:2})),r.a.createElement("li",{className:"list-group-item"},"Price - ",r.a.createElement(y.a,{value:i,character:"$",disabled:!0,defaultValue:2})))))},S=t(226),b=function(e){var a=e.iconType,t=e.value,n=e.onChange,c=e.text;return r.a.createElement("section",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex w-100 align-items-center"},r.a.createElement(h.a,{className:"font-1-5 mr-4",type:a}),r.a.createElement(S.a,{className:"w-100",value:t,min:0,max:60,onChange:n})),r.a.createElement("span",{className:"text-center"},c))},N=t(228),k=t(120),w=t(86),C=t(224),L=-33.8699,x=151.2087,j=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).updateConstraintName=function(e,a){e.preventDefault();var n=t.state.constraints,r=Object.assign([],n);r[a].name=e.target.value,t.setState({constraints:r})},t.updateConstraintTime=function(e,a){var n=t.state.constraints,r=Object.assign([],n);r[e].time=a,t.setState({constraints:r})},t.addMarker=function(e,a,n){for(var r=t.state.markers,c=Object.assign([],r),s=!0,o=0;o<c.length;o++)if(c[o].name===n){s=!1,c[o].lat=e,c[o].lng=a,N.a.success('Updated "'.concat(n,'" Marker'));break}s&&(c.push({lat:e,lng:a,name:n}),N.a.success('Added new "'.concat(n,'" Marker'))),t.setState({markers:c})},t.handleApiLoaded=function(e,a){t.setState({mapsLoaded:!0,map:e,maps:a,sydneyLatLng:new a.LatLng(L,x),autoCompleteService:new a.places.AutocompleteService,placesService:new a.places.PlacesService(e),geoCoderService:new a.Geocoder,directionService:new a.DirectionsService})},t.handleSearch=function(){var e=t.state,a=e.markers,n=e.constraints,r=e.placesService,c=e.directionService,s=e.maps;if(0!==a.length){var o=[],l=a[0],i=n[0].time,m=new s.LatLng(l.lat,l.lng),d={location:m,type:["cafe"],query:"coffee",rankBy:s.places.RankBy.DISTANCE};r.textSearch(d,(function(e){for(var a=Math.min(10,e.length),n=function(a){var n=e[a],r=n.rating,s=n.name,l=n.formatted_address,d=n.price_level,u="",p=!1;n.opening_hours&&(p=n.opening_hours.open_now),n.photos&&n.photos.length>0&&(u=n.photos[0].getUrl());var f={origin:m,destination:l,travelMode:"WALKING"};c.route(f,(function(e,a){if("OK"===a){var n=e.routes[0].legs[0];if(n.duration.value/60<i){var c=n.distance.text,m=n.duration.text;o.push({name:s,rating:r,address:l,openNow:p,priceLevel:d,photoUrl:u,distanceText:c,timeText:m})}t.setState({searchResults:o})}}))},r=0;r<a;r++)n(r)}))}else N.a.warn("Fill in blank search bar and try again!")},t.state={constraints:[{name:"",time:0}],searchResults:[],mapsLoaded:!1,markers:[],map:{},maps:{},sydneyLatLng:{},autoCompleteService:{},placesService:{},geoCoderService:{},directionService:{}},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.constraints,n=a.mapsLoaded,c=a.sydneyLatLng,s=a.markers,o=a.searchResults,l=this.state,i=l.autoCompleteService,m=l.geoCoderService;return r.a.createElement("flexbox",{className:"w-100 d-flex py-4 flex-wrap justify-content-center"},r.a.createElement("section",{className:"col-6"},n?r.a.createElement("div",null,t.map((function(a,t){var n=a.name,s=a.time;return r.a.createElement("div",{key:t,className:"mb-4"},r.a.createElement("div",{className:"d-flex mb-2"},r.a.createElement(k.a,{className:"col-4 mr-2",placeholder:"Name",onChange:function(a){return e.updateConstraintName(a,t)}}),r.a.createElement(v,{autoCompleteService:i,geoCoderService:m,sydneyLatLng:c,markerName:n,addMarker:e.addMarker})),r.a.createElement(b,{iconType:"car",value:s,onChange:function(a){return e.updateConstraintTime(t,a)},text:"Minutes away by drive"}))}))):null),r.a.createElement(w.a,{className:"mt-4 fw-md",type:"default",size:"default",onClick:this.handleSearch},"Search"),r.a.createElement(p.a,{bootstrapURLKeys:{key:"AIzaSyDivRtB90ronhSWEPkwSt8lG-SaVlntvI4",libraries:["places","directions"]},defaultZoom:11,defaultCenter:{lat:L,lng:x},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(a){var t=a.map,n=a.maps;return e.handleApiLoaded(t,n)}},s.map((function(e,a){var t=e.name,n=e.lat,c=e.lng;return r.a.createElement(g,{key:a,name:t,lat:n,lng:c})}))),o.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null),r.a.createElement("section",{className:"col-12"},r.a.createElement("div",{className:"d-flex flex-column justify-content-center"},r.a.createElement("h1",{className:"mb-4 fw-md"},"10 Coffee shops nearby"),r.a.createElement("div",{className:"d-flex flex-wrap"},o.map((function(e,a){return r.a.createElement(E,{info:e,key:a})})))))):null)}}]),a}(n.Component),O=(t(82),t(220),t(221),function(e){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{classname:"header"},r.a.createElement("h1",{className:"mb-4 fw-md",style:{color:"brown"}},"Coffee Finder")),r.a.createElement("img",{src:"https://media.istockphoto.com/photos/espresso-coffee-cup-with-beans-on-vintage-table-picture-id664313320?k=6&m=664313320&s=612x612&w=0&h=moC0a_8D-s62K72DceEnSFMx413HfTouZDzri7n7aA8=",className:"image-wrapper-sm mb-2",alt:"coffee"}),r.a.createElement(j,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[123,1,2]]]);
//# sourceMappingURL=main.10a33973.chunk.js.map